<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/change.css" />
    <link rel="stylesheet" href="css/reset.css" />
	<script src="js/jquery.min.js"></script>
	<script src="js/iscroll-zoom.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/hammer.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/lrz.all.bundle.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/jquery.photoClip.min.js" type="text/javascript" charset="utf-8"></script>
    <title>修改信息</title>
  </head>
  
  <body>
	<div class="bar">
		<iframe style="margin: 0px; float: left;z-index: 100;" MARGINWIDTH=0 MARGINHEIGHT=0 HSPACE=0 VSPACE=0 FRAMEBORDER=0 SCROLLING=no src="bar.html" width="1540px" min-width="100%" height="40px"></iframe>
	</div>
	
	<div style="position: relative; width: 1520px; top:40px;">
		<div class="text" style="top: 110px; left: 500px;">
			<p>修改头像</p>
	    </div>
	    <div class="clipRow2" style="" ontouchstart="">
			<div class="cover-wrap" style="">
				<div class="clipBgn" style="">
					<div id="clipArea" style="margin:20px;height: 400px;"></div>
					<div class="clipButton" class="" style="">
						<button id="clipBtn" style="">保存图片</button>
					</div>
				</div>
			</div>
			<div id="view" style="position: relative; width:200px;height:200px; border-radius: 100px;"></div>
			<div style="height:10px;"></div>
			<div class="clipContent">
				<div class="ctext" style="position: absolute;">上传图片</div>
				<input type="file" id="file">
			</div>
	    </div>
		<div class="text" style="top: 20px; left: 500px;">
			<p>用户名</p>
		</div>
		<div class="input-field">
		    <input type="text" placeholder="请输入原来的用户名" />
		</div>
	  
	    <div class="text" style="top: 20px;left: 500px;">
		    <p>新用户名</p>
	    </div>
	    <div class="input-field">
		    <input type="text" placeholder="不改可不填" />
	    </div>
	  
	    <div class="text" style="top: 20px;left: 500px;">
		    <p>旧密码</p>
	    </div>
	    <div class="input-field">
			<input type="password" placeholder="旧密码" />
	    </div>
		
	    <div class="text" style="top: 20px;left: 500px;">
		    <p>新密码</p>
	    </div>
	    <div class="input-field">
			<input type="password" placeholder="不改可不填" />
	    </div>
	  
	    <div class="text" style="top: 20px;left: 500px;">
		    <p>确认新密码</p>
	    </div>
	  
	    <div class="input-field">
			<input type="password" placeholder="不改可不填" />
	    </div>
			
	    <div style="text-align: center; width: 1520px;">
		    <a id="button" href="#" class="set_1_btn Vbtn-4">提交修改</a>
	    </div>
		  
		  
	    <div style="max-width: 500px; max-height: 100px;">
		    <div class="ellipse"></div>
	    </div>
	    <div style="max-width: 500px; max-height: 100px;">
		    <div class="ellipse2"></div>
	    </div>
	</div>
	
	<script type="text/javascript">
	
		//上传封面

		var clipArea = new bjj.PhotoClip("#clipArea", {
			size: [260, 260],// 截取框的宽和高组成的数组。默认值为[260,260]
			outputSize: [0, 0], // 输出图像的宽和高组成的数组。默认值为[0,0]，表示输出图像原始大小
			outputType: "jpg", // 指定输出图片的类型，可选 "jpg" 和 "png" 两种种类型，默认为 "jpg"
			file: "#file", // 上传图片的<input type="file">控件的选择器或者DOM对象
			view: "#view", // 显示截取后图像的容器的选择器或者DOM对象
			ok: "#clipBtn", // 确认截图按钮的选择器或者DOM对象
			loadStart: function () {
				// 开始加载的回调函数。this指向 fileReader 对象，并将正在加载的 file 对象作为参数传入
				$('.cover-wrap').fadeIn();
				console.log("照片读取中");
			},
			loadComplete: function () {
				// 加载完成的回调函数。this指向图片对象，并将图片地址作为参数传入
				console.log("照片读取完成");
			},
			//loadError: function(event) {}, // 加载失败的回调函数。this指向 fileReader 对象，并将错误事件的 event 对象作为参数传入
			clipFinish: function (dataURL) {
				// 裁剪完成的回调函数。this指向图片对象，会将裁剪出的图像数据DataURL作为参数传入
				$('.cover-wrap').fadeOut();
				$('#view').css('background-size', '100% 100%');
				console.log(dataURL); //输出图像base64
			}
		});

	</script>
  </body>
</html>